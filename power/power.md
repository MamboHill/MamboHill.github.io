@def title = "Mambo Power"
@def tags = ["syntax", "code"]

# Power Systems and Electricity Markets

\tableofcontents <!-- you can use \toc as well -->

Power systems generate and distribute electricity, including various sources like coal, natural gas, renewables, and nuclear plants. Electricity markets facilitate the buying and selling of electricity, influencing investment decisions in power generation and allowing consumers to choose suppliers and pricing plans. The integration of renewable energy sources and distributed energy resources is reshaping these systems and markets, requiring advanced grid management and storage solutions for stability and affordability. Collaborative efforts between power systems and electricity markets are essential for meeting growing energy demands and addressing environmental concerns.

##  Introduction to Power Systems and Electricity Markets

### The significance of electrical energy

Electricity is a pivotal form of energy, and modern science and technology have enabled its conversion into various desired forms. The importance of electrical energy in the contemporary world cannot be overstated, as it plays a critical role in the survival of industrial operations and our societal structures. The advancement of a nation is often measured by its per capita consumption of electrical energy.

**Key Benefits of Electrical Energy:**

1. **Convenient Form:** Electrical energy is versatile and easily convertible into various other forms like heat, light, and motive power through simple devices.

2. **Easy Control:** Electrically operated machines offer straightforward starting, control, and operation, making them user-friendly.

3. **Greater Flexibility:** Electrical energy can be efficiently transported from one location to another using conductors, providing practicality.

4. **Affordability:** Electrical energy is generally more economical for domestic, commercial, and industrial use compared to other energy sources.

5. **Cleanliness:** Its use is associated with cleanliness and health since it doesn't produce smoke, fumes, or toxic gases.

6. **High Transmission Efficiency:** Electrical energy can be transmitted effectively from generation centers to consumers using overhead transmission lines.

In conclusion, electrical energy's adaptability, ease of use, affordability, cleanliness, and efficient transmission make it a crucial and indispensable component of modern industrial and social structures.

### What are power systems?

Power systems are the fundamental infrastructure responsible for generating, transmitting, distributing, and meeting the demand for electrical energy. They form the backbone of the electricity supply chain, ensuring the efficient and reliable delivery of electricity to end-users.

**1. Generation**
- Generation facilities, often referred to as power plants, are where various energy sources (e.g., coal, natural gas, renewable resources) are converted into electrical energy.
- These facilities serve as the primary source of electricity production.

**2. Transmission**
- Transmission lines, typically high-voltage, carry electricity over long distances, connecting generation facilities to distribution networks.
- These lines play a crucial role in minimizing energy losses during transportation.

**3. Distribution**
- The distribution network is the final leg of the power system, responsible for delivering electricity from transmission networks to homes, businesses, and industries.
- It ensures that electricity reaches end-users at safe and usable voltage levels.

**4. Demand**
- Demand represents the end-users of electricity, including residential, commercial, and industrial customers.
- Balancing supply and demand is essential for maintaining grid stability and meeting the electrical needs of society.

Power systems are responsible for:
- Meeting electricity demand while maintaining grid stability.
- Facilitating the efficient generation, transmission, and distribution of electricity.
- Enabling the integration of renewable energy sources and ensuring a reliable power supply.

Understanding these key components is fundamental to appreciating how power systems function and the challenges they face.


### Deregulation to competitive electricity markets

- The deregulation of the energy sector is a powerful force behind the transformation from monopoly-like utilities to competitive electricity markets.
- Governments and regulatory bodies have initiated market reforms to foster competition, reduce prices, and stimulate innovation in the energy sector.

**Drivers**
1. Technological Advancements
    - Rapid technological advancements, including renewable energy sources, energy storage, and smart grid technologies, are reshaping the way electricity is generated, transmitted, and consumed.
    - These technologies provide opportunities for clean energy and more efficient grid operations.
2. Environmental and Sustainability Goals
    - Growing concerns about environmental sustainability and climate change have triggered a push for cleaner and more sustainable energy sources.
    - Renewable energy and energy efficiency are central to achieving environmental and sustainability objectives.
3. Market Efficiency
    - Competitive markets aim to allocate resources efficiently, minimizing waste and optimizing the utilization of available energy resources.
    - Market-driven operations encourage cost-effective investments and operations.
4. Innovation and Market Competition
    - Competition in electricity markets fosters innovation, leading to the emergence of new business models, improved technologies, and cost reductions.
    - It incentivizes market participants to explore innovative ways to serve consumers and generate electricity.


**Impact of the Transition**

1. Empowering Consumer Choice
    - The transition empowers consumers, allowing them to select their electricity providers and the type of energy they consume.
    - This can result in cost savings and provides consumers with opportunities to support renewable energy.

2. Integration of New Technologies
    - The transition encourages the integration of new technologies and renewable energy sources, altering the landscape of power generation.
    - While this introduces grid management challenges, it also offers opportunities for a cleaner, more resilient grid.

3. Adaptation of Regulatory Frameworks
    - Regulatory frameworks must adapt to the evolving market dynamics, ensuring that environmental goals, market competition, and consumer protection are addressed.
    - Regulators often face the challenging task of balancing these diverse interests.

### Regulatory Framework and Agencies

Regulation is a fundamental aspect of the energy sector, ensuring that power systems and electricity markets operate efficiently, safely, and fairly. Various regulatory bodies, including FERC, PUCs, RTOs, and ISOs, are central to overseeing and governing the energy industry.

**1. Federal Energy Regulatory Commission (FERC)**
- FERC is a key regulatory body in the United States, overseeing electricity markets, ensuring that they are operated in a fair, efficient, and transparent manner.
- FERC regulates interstate electricity transmission and wholesale electricity sales, ensuring a level playing field for market participants.

**2. Public Utility Commissions (PUCs)**
- PUCs are state-level regulatory bodies, responsible for governing the energy sector within their respective states.
- They play a critical role in regulating retail electricity markets, ensuring consumer protection, and implementing state-specific policies.

**3. Regional Transmission Organizations (RTOs)**
- RTOs are independent entities that manage and oversee the transmission of electricity within specific regions.
- They promote fair access to the transmission system, grid reliability, and efficient market operation.

**4. Independent System Operators (ISOs)**
- ISOs, like RTOs, are independent entities responsible for operating the electricity grid and facilitating competitive wholesale electricity markets.
- They ensure the real-time balance of supply and demand, maintaining grid stability.


### What are electricity markets?

Electricity markets are the platforms where electrical energy is bought and sold among various market participants. These markets play a critical role in the allocation of electricity resources and the determination of market prices.

**Market Participants**
- Electricity markets involve a range of participants, including generators, transmission system operators (TSOs), distribution system operators (DSOs), retailers, and consumers.
- Generators are responsible for producing electricity, while TSOs and DSOs manage the transmission and distribution of electricity.
- Retailers sell electricity to end-users, and consumers are the ultimate beneficiaries.

**Market Products**
- Electricity markets offer various market products, such as energy, capacity, and ancillary services.
- Energy markets deal with the actual electricity commodity, while capacity markets ensure resource adequacy by providing incentives for generators to maintain sufficient capacity.
- Ancillary services cover functions like voltage control and system stability.


Electricity markets serve several essential functions:

- **Efficient Resource Allocation:** By allowing generators to compete in a market, resources are allocated to where they are needed most efficiently.

- **Price Discovery:** Markets determine the price of electricity based on supply and demand, providing transparency and ensuring fair pricing.

- **Encouraging Innovation:** Market competition incentivizes technological advancements and promotes cleaner and more sustainable energy sources.

- **Grid Reliability:** Effective market operation ensures a reliable and stable power grid.


Electricity markets can vary by region and structure. Common types include:

- Wholesale Markets: Where generators sell electricity to retailers and other market participants.

- Retail Markets: Where electricity is sold directly to end-users, often in a deregulated environment.

- Bilateral Markets: Direct contracts between buyers and sellers.


In summary, electricity markets are dynamic systems that play a vital role in the energy sector. They connect a diverse set of market participants, determine prices through various mechanisms, and ensure the efficient allocation of electricity resources.

Understanding the fundamental concepts of electricity markets is crucial for comprehending the energy landscape and how market dynamics impact power system operation.



## Power System Operations

### Generation of electrical energy

The generation of electrical energy involves the conversion of different natural forms of energy into electrical power. Electrical energy is unique as it must be produced and transmitted instantly when needed, which presents distinctive technical and economic challenges in the power industry.

**Key Points:**

- Electrical energy, like other commodities, is manufactured from natural energy sources.
- Unlike most commodities, electrical energy must be produced and delivered instantly when required, which is a process that takes only a fraction of a second.
- Various natural sources provide different forms of energy, such as water pressure, chemical energy from fuels, and nuclear energy, all of which can be converted into electrical energy using suitable arrangements.
- A typical setup includes an alternator connected to a prime mover, with the prime mover being powered by energy sources like fuel combustion, water pressure, or wind force.
- For example, the chemical energy in coal can be used to produce high-temperature and high-pressure steam, which drives a steam engine or turbine, converting heat energy into mechanical energy and, ultimately, into electrical energy.
- Similar machinery and equipment can be employed to convert various forms of energy into electrical power.

In essence, the generation of electrical energy is the process of transforming natural energy sources into a vital and instantly accessible form of power.

### Efficient economic operation of electric power generation 

Efficient and economically optimal operation and planning of electric power generation systems are crucial in the electric power industry. Before 1973, U.S. electric utilities spent around 20% of their total revenues on fuel for electricity production. However, by 1980, this figure had surged to over 40% due to a rapid escalation in fuel prices triggered by the oil embargo. The efficient use of available fuel is becoming increasingly significant, both economically and in terms of preserving finite natural resources.[^1]

Even a minor percentage of savings in the system's operation can result in significant cost reductions and fuel consumption. Given these implications, the efficient operation of electric power generation systems has been a focus of attention for engineers over the years.

Periodic fluctuations in fuel prices and the impact of inflation further emphasize the economic importance of this area and the necessity for developing methods and techniques for cost-effective power generation system operation.


### Economic Dispatch

Economic Dispatch is a critical aspect of power system operations that aims to minimize the cost of generating electricity while meeting the load demand. 

The primary goal of Economic Dispatch is to determine the optimal generation levels for each power generator within a power system. This optimization problem involves finding the generation schedule that minimizes the total generation cost, considering factors such as fuel costs, generator constraints, and system load.


The Economic Dispatch problem can be mathematically formulated as follows:

**Minimize:**

\[
\sum_{i=1}^{n} C_i(P_i)
\]

Where:
- $C_i(P_i)$ represents the cost of generation for generator $i$ as a function of its output $P_i$.
- $n$ is the total number of generators.

**Subject to:**

1. **Power Balance Equation:**

\[
\sum_{i=1}^{n} P_i = P_{\text{load}}
\]

Where:
- $P_i$ is the power output of generator $i$.
- $P_{\text{load}}$ is the total system load.

2. **Generator Output Limits:**

\[
P_i^{\text{min}} \leq P_i \leq P_i^{\text{max}}, \quad \text{for } i = 1, 2, \ldots, n
\]

Where:
- $P_i^{\text{min}}$ and $P_i^{\text{max}}$ are the minimum and maximum power output limits for generator $i$.



## References
[^1]: Wood Allen, J Bruce, F Wollenberg, and Sheblé Gerald B. 2014. Power Generation Operation and Control Third ed. Hoboken New Jersey: Wiley-Interscience.



## The base with Markdown

The [standard markdown syntax](https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet) can be used such as titles using `#`, lists:

* element with **bold**
* element with _emph_

or code-blocks `inline` or with highlighting (note the `@def hascode = true` in the source to allow [highlight.js](https://highlightjs.org/) to do its job):

```julia
abstract type Point end
struct PointR2{T<:Real} <: Point
    x::T
    y::T
end
struct PointR3{T<:Real} <: Point
    x::T
    y::T
    z::T
end
function len(p::T) where T<:Point
  sqrt(sum(getfield(p, η)^2 for η ∈ fieldnames(T)))
end
```

You can also quote stuff

> You must have chaos within you to ...

or have tables:

| English         | Mandarin   |
| --------------- | ---------- |
| winnie the pooh | 维尼熊      |

Note that you may have to do a bit of CSS-styling to get these elements to look the way you want them (the same holds for the whole page in fact).

### Symbols and html entities

If you want a dollar sign you have to escape it like so: \$, you can also use html entities like so: &rarr; or &pi; or, if you're using Juno for instance, you can use `\pi[TAB]` to insert the symbol as is: π (it will be converted to a html entity).[^1]

If you want to show a backslash, just use it like so: \ ; if you want to force a line break, use a ` \\ ` like \\ so (this is on a new line).[^blah]

If you want to show a backtick, escape it like so: \` and if you want to show a tick in inline code use double backticks like ``so ` ...``.

Footnotes are nice too:

[^1]: this is the text for the first footnote, you can style all this looking at `.fndef` elements; note that the whole footnote definition is _expected to be on the same line_.
[^blah]: and this is a longer footnote with some blah from veggie ipsum: turnip greens yarrow ricebean rutabaga endive cauliflower sea lettuce kohlrabi amaranth water spinach avocado daikon napa cabbage asparagus winter purslane kale. Celery potato scallion desert raisin horseradish spinach carrot soko.

## Basic Franklin extensions

### Divs

It is sometimes useful to have a short way to make a part of the page belong to a div so that it can be styled separately.
You can do this easily with Franklin by using `@@divname ... @@`.
For instance, you could want a blue background behind some text.

@@colbox-blue
Here we go! (this is styled in the css sheet with name "colbox-blue").
@@

Since it's just a `<div>` block, you can put this construction wherever you like and locally style your text.

### LaTeX and Maths

Essentially three things are imitated from LaTeX

1. you can introduce definitions using `\newcommand`
1. you can use hyper-references with `\eqref`, `\cite`, ...
1. you can show nice maths (via KaTeX)

The definitions can be introduced in the page or in the `config.md` (in which case they're available everywhere as opposed to just in that page).
For instance, the commands `\scal` and `\R` are defined in the config file (see `src/config.md`) and can directly be used whereas the command `\E` is defined below (and therefore only available on this page):

\newcommand{\E}[1]{\mathbb E\left[#1\right]}

Now we can write something like

$$  \varphi(\E{X}) \le \E{\varphi(X)}. \label{equation blah} $$

since we've given it the label `\label{equation blah}`, we can refer it like so: \eqref{equation blah} which can be convenient for pages that are math-heavy.

In a similar vein you can cite references that would be at the bottom of the page: \citep{noether15, bezanson17}.

**Note**: the LaTeX commands you define can also incorporate standard markdown (though not in a math environment) so for instance let's define a silly `\bolditalic` command.

\newcommand{\bolditalic}[1]{_**!#1**_} <!--_ ignore this comment, it helps atom to not get confused by the trailing underscore when highlighting the code but is not necessary.-->

and use it \bolditalic{here for example}.

Here's another quick one, a command to change the color:

\newcommand{\col}[2]{~~~<span style="color:~~~#1~~~">~~~!#2~~~</span>~~~}

This is \col{blue}{in blue} or \col{#bf37bc}{in #bf37bc}.

### A quick note on whitespaces

For most commands you will use `#k` to refer to the $k$-th argument as in LaTeX.
In order to reduce headaches, this forcibly introduces a whitespace on the left of whatever is inserted which, usually, changes nothing visible (e.g. in a math settings).
However there _may be_ situations where you do not want this to happen and you know that the insertion will not clash with anything else.
In that case, you should simply use `!#k` which will not introduce that whitespace.
It's probably easier to see this in action:

\newcommand{\pathwith}[1]{`/usr/local/bin/#1`}
\newcommand{\pathwithout}[1]{`/usr/local/bin/!#1`}

* with: \pathwith{script.jl}, there's a whitespace you don't want 🚫
* without: \pathwithout{script.jl} here there isn't ✅

### Raw HTML

You can include raw HTML by just surrounding a block with `~~~`.
Not much more to add.
This may be useful for local custom layouts like having a photo next to a text in a specific way.

~~~
<div class="row">
  <div class="container">
    <img class="left" src="/assets/rndimg.jpg">
    <p>
    Marine iguanas are truly splendid creatures. They're found on the Gálapagos islands, have skin that basically acts as a solar panel, can swim and may have the ability to adapt their body size depending on whether there's food or not.
    </p>
    <p>
    Evolution is cool.
    </p>
    <div style="clear: both"></div>      
  </div>
</div>
~~~

**Note 1**: again, entire such blocks can be made into latex-like commands via `\newcommand{\mynewblock}[1]{...}`.

**Note 2**: whatever is in a raw HTML block is *not* further processed (so you can't have LaTeX in there for instance). A partial way around this is to use `@@...` blocks which *will* be recursively parsed. The following code gives the same result as above with the small difference that there is LaTeX being processed in the inner div.

@@row
@@container
@@left ![](/assets/rndimg.jpg) @@
@@
Marine iguanas are **truly splendid** creatures. They're not found in equations like $\exp(-i\pi)+1$. But they're still quite cool.
~~~
<div style="clear: both"></div>
~~~
@@

## Pages and structure

Here are a few empty pages connecting to the menu links to show where files can go and the resulting paths. (It's probably best if you look at the source folder for this).

* [menu 1](/menu1/)
* [menu 2](/menu2/)
* [menu 3](/menu3/)

## References (not really)

* \biblabel{noether15}{Noether (1915)} **Noether**,  Körper und Systeme rationaler Funktionen, 1915.
* \biblabel{bezanson17}{Bezanson et al. (2017)} **Bezanson**, **Edelman**, **Karpinski** and **Shah**, [Julia: a fresh approach to numerical computing](https://julialang.org/research/julia-fresh-approach-BEKS.pdf), SIAM review 2017.

## Header and Footer

As you can see here at the bottom of the page, there is a footer which you may want on all pages but for instance you may want the date of last modification to be displayed.
In a fashion heavily inspired by [Hugo](https://gohugo.io), you can write things like

```html
Last modified: {{ fill fd_mtime }}.
```

(cf. `src/_html_parts/page_foot.html`) which will then replace these braces with the content of a dictionary of variables at the key `fd_mtime`.
This dictionary of variables is accessed locally by pages through `@def varname = value` and globally through the `config.md` page via the same syntax.

There's a few other such functions of the form `{{fname p₁ p₂}}` as well as support for conditional blocks. If you wander through the `src/_html_parts/` folder and its content, you should be able to see those in action.
